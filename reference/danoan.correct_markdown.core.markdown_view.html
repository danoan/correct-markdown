

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>danoan.correct_markdown.core.markdown_view module &mdash; correct-markdown 0.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=a3d76245" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=01f34227"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            correct-markdown
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../getting-started.html">Getting started with Correct Markdown</a></li>
<li class="toctree-l1"><a class="reference internal" href="../llm-programming.html">LLM programming</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api-reference.html">API Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../design-and-architecture.html">Design and Architecture</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">correct-markdown</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">danoan.correct_markdown.core.markdown_view module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/reference/danoan.correct_markdown.core.markdown_view.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-danoan.correct_markdown.core.markdown_view">
<span id="danoan-correct-markdown-core-markdown-view-module"></span><h1>danoan.correct_markdown.core.markdown_view module<a class="headerlink" href="#module-danoan.correct_markdown.core.markdown_view" title="Link to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="danoan.correct_markdown.core.markdown_view.MarkdownView">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">danoan.correct_markdown.core.markdown_view.</span></span><span class="sig-name descname"><span class="pre">MarkdownView</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">original_markdown</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">TextIO</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/danoan/correct_markdown/core/markdown_view.html#MarkdownView"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#danoan.correct_markdown.core.markdown_view.MarkdownView" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Find and replace plain-text content in a markdown string without disrupting markdown and html markups.</p>
<p>This class is designed to do replace operations in the plain-text content of a markdown string.
All markdown and html markups should remain the same and not be affected by a replace operation.</p>
<p>The only exception is when the plain-text string being replaced is spread over two or more
non-contiguous text segments. In this case, the new value is put in the first segment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>original_markdown</strong> (<em>TextIO</em>)</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="danoan.correct_markdown.core.markdown_view.MarkdownView.DiffOperation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DiffOperation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/danoan/correct_markdown/core/markdown_view.html#MarkdownView.DiffOperation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#danoan.correct_markdown.core.markdown_view.MarkdownView.DiffOperation" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>An enumeration.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="danoan.correct_markdown.core.markdown_view.MarkdownView.DiffOperation.Delete">
<span class="sig-name descname"><span class="pre">Delete</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'delete'</span></em><a class="headerlink" href="#danoan.correct_markdown.core.markdown_view.MarkdownView.DiffOperation.Delete" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="danoan.correct_markdown.core.markdown_view.MarkdownView.DiffOperation.Equal">
<span class="sig-name descname"><span class="pre">Equal</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'equal'</span></em><a class="headerlink" href="#danoan.correct_markdown.core.markdown_view.MarkdownView.DiffOperation.Equal" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="danoan.correct_markdown.core.markdown_view.MarkdownView.DiffOperation.Insert">
<span class="sig-name descname"><span class="pre">Insert</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'insert'</span></em><a class="headerlink" href="#danoan.correct_markdown.core.markdown_view.MarkdownView.DiffOperation.Insert" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="danoan.correct_markdown.core.markdown_view.MarkdownView.DiffOperation.Replace">
<span class="sig-name descname"><span class="pre">Replace</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'replace'</span></em><a class="headerlink" href="#danoan.correct_markdown.core.markdown_view.MarkdownView.DiffOperation.Replace" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="danoan.correct_markdown.core.markdown_view.MarkdownView.SegmentType">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SegmentType</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/danoan/correct_markdown/core/markdown_view.html#MarkdownView.SegmentType"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#danoan.correct_markdown.core.markdown_view.MarkdownView.SegmentType" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>An enumeration.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="danoan.correct_markdown.core.markdown_view.MarkdownView.SegmentType.Html">
<span class="sig-name descname"><span class="pre">Html</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'html'</span></em><a class="headerlink" href="#danoan.correct_markdown.core.markdown_view.MarkdownView.SegmentType.Html" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="danoan.correct_markdown.core.markdown_view.MarkdownView.SegmentType.NoHtml">
<span class="sig-name descname"><span class="pre">NoHtml</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'no_html'</span></em><a class="headerlink" href="#danoan.correct_markdown.core.markdown_view.MarkdownView.SegmentType.NoHtml" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="danoan.correct_markdown.core.markdown_view.MarkdownView.find">
<span class="sig-name descname"><span class="pre">find</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">search_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_trailing_spaces</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/danoan/correct_markdown/core/markdown_view.html#MarkdownView.find"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#danoan.correct_markdown.core.markdown_view.MarkdownView.find" title="Link to this definition"></a></dt>
<dd><p>Find the search value in the non new line text view and return the start and end indexes.</p>
<p>The start and end parameters limit the search to a substring.
If ignore_trailing_spaces then “searched value” will match “searched    value”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>search_value</strong> (<em>str</em>)</p></li>
<li><p><strong>start</strong> (<em>int</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>end</strong> (<em>int</em><em> | </em><em>None</em>)</p></li>
<li><p><strong>ignore_trailing_spaces</strong> (<em>bool</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><em>Tuple</em>[int, int]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="danoan.correct_markdown.core.markdown_view.MarkdownView.get_full_content">
<span class="sig-name descname"><span class="pre">get_full_content</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/danoan/correct_markdown/core/markdown_view.html#MarkdownView.get_full_content"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#danoan.correct_markdown.core.markdown_view.MarkdownView.get_full_content" title="Link to this definition"></a></dt>
<dd><p>Return a string joining all pure markdown, HTML tags and plain-text segments.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="danoan.correct_markdown.core.markdown_view.MarkdownView.get_html_view">
<span class="sig-name descname"><span class="pre">get_html_view</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/danoan/correct_markdown/core/markdown_view.html#MarkdownView.get_html_view"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#danoan.correct_markdown.core.markdown_view.MarkdownView.get_html_view" title="Link to this definition"></a></dt>
<dd><p>Return a string joining HTML tags segments.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="danoan.correct_markdown.core.markdown_view.MarkdownView.get_no_html_view">
<span class="sig-name descname"><span class="pre">get_no_html_view</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/danoan/correct_markdown/core/markdown_view.html#MarkdownView.get_no_html_view"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#danoan.correct_markdown.core.markdown_view.MarkdownView.get_no_html_view" title="Link to this definition"></a></dt>
<dd><p>Return a string joining all pure markdown and plain-text segments.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="danoan.correct_markdown.core.markdown_view.MarkdownView.replace">
<span class="sig-name descname"><span class="pre">replace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t_start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">old_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/danoan/correct_markdown/core/markdown_view.html#MarkdownView.replace"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#danoan.correct_markdown.core.markdown_view.MarkdownView.replace" title="Link to this definition"></a></dt>
<dd><p>Replace old value by new value in text view and update segments.</p>
<ol class="arabic simple">
<li><p>Find the indexes ts,te in the text view that corresponding to the old value.</p></li>
<li><p>Find the segments ms, me in the index that correspond to ts,te.</p></li>
<li><p>If ms==me then the old value is within the same segment and
we can do a simple replacement.</p></li>
<li><p>If ms!=me then the old value is spread over more than one segment.
We put the text content within (ms,me) segments of type text in
the segment ms (the first one) and do the replace operation there.
Next we erase the segments (ms+1…ms_end); and merge segments of
equal type that become contiguous after the delete operation.</p></li>
<li><p>We need to update the index.</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t_start</strong> (<em>int</em>)</p></li>
<li><p><strong>old_value</strong> (<em>str</em>)</p></li>
<li><p><strong>new_value</strong> (<em>str</em>)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Daniel Martins Antunes.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>